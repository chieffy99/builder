<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Shotcut Wheel Prototype</title>
  <style>
    /* ------ Reset & base ------ */
    * { margin:0; padding:0; box-sizing:border-box; }
    html, body { width:100%; height:100%; overflow:hidden; }
    body { background:#111; color:#eee; font-family:"Segoe UI",sans-serif; display:flex; align-items:center; justify-content:center; }

    /* ------ Settings panel ------ */
    .settings {
      position: absolute;
      top: 20px; left: 20px;
      background: #333;
      padding: 10px 15px;
      border-radius: 6px;
      font-size: 14px;
    }
    .settings label { cursor: pointer; }
    .settings input { margin-right: 6px; }

    /* ------ Wheel container ------ */
    .wheel-container {
      position: relative;
      width: 450px;
      height: 450px;
    }
    .wheel {
      position: relative;
      width: 100%;
      height: 100%;
      border: 2px solid #555;
      border-radius: 50%;
      transition: transform 2s cubic-bezier(0.33,1,0.68,1);
    }

    /* ------ Shortcuts ------ */
    .shortcut {
      position: absolute;
      width: 80px; height: 80px;
      border: 3px solid #888;
      border-radius: 50%;
      background: #222;
      color: #fff;
      display: flex;
      align-items: center; justify-content: center;
      font-size: 14px;
      user-select: none;
      transition: box-shadow .3s, transform .3s, background .3s;
    }
    .shortcut.selected {
      box-shadow: 0 0 15px rgba(255,255,255,0.8);
      background: #444;
      transform: scale(1.1);
    }
    /* We'll inject each shortcut's color via JS inline style */

    /* ------ Central action button ------ */
    .action-btn {
      position: absolute;
      top: 50%; left: 50%;
      width: 120px; height: 120px;
      margin-left: -60px; margin-top: -60px;
      background: #222;
      border: 4px solid #fff;
      border-radius: 50%;
      color: #fff;
      font-size: 16px;
      cursor: pointer;
      display:flex;
      align-items:center;
      justify-content:center;
      user-select: none;
      transition: background .3s;
    }
    .action-btn:hover {
      background: #333;
    }
  </style>
</head>
<body>

  <!-- Settings Panel -->
  <div class="settings">
    <label>
      <input type="checkbox" id="rotateToggle" checked>
      Rotate wheel on random shotcut
    </label>
  </div>

  <!-- Wheel & Buttons -->
  <div class="wheel-container">
    <div class="wheel" id="wheel">
      <!-- Shortcuts will be injected by JS -->
    </div>
    <div class="action-btn" id="actionBtn">Action button</div>
  </div>

  <script>
    (function(){
      const wheel = document.getElementById('wheel');
      const actionBtn = document.getElementById('actionBtn');
      const rotateToggle = document.getElementById('rotateToggle');

      const numShortcuts = 10;
      const radius = 170; // distance from center
      let currentRotation = 0;
      let lastSelected = null;

      // Generate color hues for shortcuts
      function hslHue(i) {
        return 'hsl(' + (i * 36) + ', 85%, 55%)';
      }

      // Create shortcut buttons
      for (let i = 0; i < numShortcuts; i++) {
        const btn = document.createElement('div');
        btn.className = 'shortcut';
        btn.textContent = 'shot cut';
        btn.dataset.index = i;
        // position by rotating then translating along Y
        const angleDeg = i * (360 / numShortcuts);
        btn.style.transform = `rotate(${angleDeg}deg) translate(0, -${radius}px) rotate(${-angleDeg}deg)`;
        btn.style.borderColor = hslHue(i);
        btn.style.background = 'rgba(30,30,30,0.9)';
        btn.style.color = '#fff';
        // border highlight color
        btn.style.boxShadow = '0 0 0 ' + (btn.classList.contains('selected') ? '3px ' + hslHue(i) : '0 transparent');

        wheel.appendChild(btn);
      }

      function highlightShortcut(index) {
        if (lastSelected !== null) {
          const prev = wheel.querySelector('.shortcut[data-index="'+ lastSelected +'"]');
          prev.classList.remove('selected');
        }
        const sel = wheel.querySelector('.shortcut[data-index="'+ index +'"]');
        sel.classList.add('selected');
        lastSelected = index;
      }

      actionBtn.addEventListener('click', () => {
        const chosen = Math.floor(Math.random() * numShortcuts);

        if (rotateToggle.checked) {
          // Compute how many degrees to rotate so chosen lands at top (0deg)
          const step = 360 / numShortcuts;
          // We want: currentRotation + delta + chosen*step = 0 mod 360
          // => delta = -chosen*step - currentRotation
          const delta = -chosen * step - currentRotation;
          currentRotation = (currentRotation + delta) % 360;
          wheel.style.transform = `rotate(${currentRotation}deg)`;
          // Delay highlight until rotation ends
          setTimeout(() => highlightShortcut(chosen), 2000);
        } else {
          highlightShortcut(chosen);
        }
      });
    })();
  </script>

</body>
</html>